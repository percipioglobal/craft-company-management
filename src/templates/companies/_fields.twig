{% macro company(company) %}
    {%- import "_includes/forms" as forms -%}

    {{ forms.textField({
        first: true,
        label: "Name"|t('company-management'),
        instructions: "What's the name of the company"|t('company-management'),
        id: 'name',
        name: 'name',
        value: company ? company.name : '',
        errors: company ? company.getErrors('name') : null,
        autofocus: true,
        required: true,
    }) }}

    {{ forms.textField({
        label: "Short Name"|t('company-management'),
        instructions: "What's the name of the company"|t('company-management'),
        id: 'shortName',
        name: 'shortName',
        value: company ? company.shortName : '',
        errors: company ? company.getErrors('shortName') : null,
    }) }}

    {{- forms.textareaField({
        label: "Info"|t('company-management'),
        instructions: "Give a little info about the company"|t('company-management'),
        id: 'info',
        name: 'info',
        value: company ? company.info : '',
        errors: company ? company.getErrors('info')|merge(company.getErrors('uri')) : null
    }) -}}

    <hr/>

    {{ forms.textField({
        label: "Address"|t('company-management'),
        id: 'address',
        name: 'address',
        value: company ? company.address : '',
        errors: company ? company.getErrors('address') : null,
    }) }}

    {{ forms.textField({
        label: "Town"|t('company-management'),
        id: 'town',
        name: 'town',
        value: company ? company.town : '',
        errors: company ? company.getErrors('town') : null,
    }) }}

    {{ forms.textField({
        label: "Postcode"|t('company-management'),
        id: 'postcode',
        name: 'postcode',
        value: company ? company.postcode : '',
        errors: company ? company.getErrors('postcode') : null,
    }) }}

    <hr/>

    {{ forms.textField({
        label: "Register Number"|t('company-management'),
        required: true,
        id: 'registerNumber',
        name: 'registerNumber',
        value: company ? company.registerNumber : '',
        errors: company ? company.getErrors('registerNumber') : null,
    }) }}

    {{ forms.textField({
        label: "PAYE Reference"|t('company-management'),
        id: 'payeReference',
        name: 'payeReference',
        value: company ? company.payeReference : '',
        errors: company ? company.getErrors('payeReference') : null,
    }) }}

    {{ forms.textField({
        label: "Accounts Office Reference"|t('company-management'),
        id: 'accountsOfficeReference',
        name: 'accountsOfficeReference',
        value: company ? company.accountsOfficeReference : '',
        errors: company ? company.getErrors('accountsOfficeReference') : null,
    }) }}

    {{ forms.textField({
        label: "Tax Reference"|t('company-management'),
        id: 'taxReference',
        name: 'taxReference',
        value: company ? company.taxReference : '',
        errors: company ? company.getErrors('taxReference') : null,
    }) }}

    <hr/>

    {{ forms.textField({
        label: "Website"|t('company-management'),
        id: 'website',
        name: 'website',
        value: company ? company.website : '',
        errors: company ? company.getErrors('website') : null,
    }) }}

    {%- set asset = company ? company.logo ? [craft.assets.id(company.logo).one()] : [] : [] -%}
    {{ forms.elementSelectField({
        label: "Logo"|t('company-management'),
        id: 'logo',
        name: 'logo',
        elementType: 'craft\\elements\\Asset',
        limit: 1,
        elements:asset,
        criteria: {
            'kind': ['image'],
        },
        value: company ? company.logo : '',
        instructions: "Upload or select a logo"|t('company-management'),
        errors: company ? company.getErrors('logo') : null,
    }) }}
{% endmacro %}

{% macro contact(company) %}
    {%- import "_includes/forms" as forms -%}

    {{ forms.textField({
        first: true,
        label: "Contact Name"|t('company-management'),
        id: 'contactName',
        name: 'contactName',
        required: true,
        value: company ? company.contactName : '',
        errors: company ? company.getErrors('contactName') : null,
    }) }}

    {{ forms.textField({
        first: true,
        label: "Contact Email"|t('company-management'),
        id: 'contactEmail',
        name: 'contactEmail',
        required: true,
        value: company ? company.contactEmail : '',
        errors: company ? company.getErrors('contactEmail') : null,
    }) }}

    {{ forms.textField({
        first: true,
        label: "Contact Registration Number"|t('company-management'),
        id: 'contactRegistrationNumber',
        name: 'contactRegistrationNumber',
        required: true,
        value: company ? company.contactRegistrationNumber : '',
        errors: company ? company.getErrors('contactRegistrationNumber') : null,
    }) }}

    {{ forms.textField({
        first: true,
        label: "Contact Phone"|t('company-management'),
        id: 'contactPhone',
        name: 'contactPhone',
        value: company ? company.contactPhone : '',
        errors: company ? company.getErrors('contactPhone') : null,
    }) }}

    {{ forms.dateField({
        first: true,
        label: "Contact Birthday"|t('company-management'),
        id: 'contactBirthday',
        name: 'contactBirthday',
        value: company ? company.contactBirthday : '',
        errors: company ? company.getErrors('contactBirthday') : null,
    }) }}
{% endmacro %}